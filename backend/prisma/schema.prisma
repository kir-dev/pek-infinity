datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["prismaSchemaFolder"]
}


model Semester {
  name               String                @id
  guidelines         GuidelineCollection[]
  scoreboards        Scoreboard[]
  entryAwardRequests EntryAwardRequest[]
  pointHistories     PointHistory[]
}

model SystemAttributes {
  name  SystemAttributeKey @id
  value String             @db.VarChar(255)
}

enum SystemAttributeKey {
  SEMESTER
  NEWBIE_PERIOD
  LAST_LOG_SENT
  MAX_POINT_FOR_SEMESTER
  EVALUATION_PERIOD
}

model Notification {
  id          String   @id @default(cuid())
  createdAt   DateTime @default(now())
  message     String
  seen        Boolean  @default(false)
  link        String
  recipientId String
  recipient   User     @relation("recipient", fields: [recipientId], references: [id])
  senderId    String?
  sender      User?    @relation("sender", fields: [senderId], references: [id])
}
